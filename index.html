<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Makes responsive -->
    <title>AstroLegacy: NASA Space Biology Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script> <!-- Tailwind CDN -->
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-storage-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script> <!-- Reliable D3 CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.6.82/pdf.min.js"></script>
    <script>
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.6.82/pdf.worker.min.js'; <!-- Worker here -->
    </script>
</head>
<body class="bg-gray-900 text-white min-h-screen p-4">
    <header class="text-center mb-8">
        <h1 class="text-4xl font-bold">AstroLegacy</h1>
        <p class="text-lg">Explore 608 NASA Space Biology Publications | Powered by OSDR, NSLSL, Task Book</p>
    </header>

    <section class="mb-8">
        <h2 class="text-2xl mb-4">Search & Explore</h2>
        <div class="flex space-x-4">
            <select id="topicFilter" class="bg-gray-800 p-2 rounded"></select>
            <select id="yearFilter" class="bg-gray-800 p-2 rounded"></select>
            <select id="organismFilter" class="bg-gray-800 p-2 rounded"></select>
            <input id="searchInput" type="text" placeholder="Search..." class="bg-gray-800 p-2 rounded flex-grow">
            <button id="resetBtn" class="bg-blue-600 p-2 rounded">Reset</button>
        </div>
    </section>

    <section id="results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
        <!-- JS will populate cards here -->
    </section>

    <section class="mb-8">
        <h2 class="text-2xl mb-4">Topic Distribution & Timeline</h2>
        <div id="timelineChart" class="bg-gray-800 p-4 rounded w-full h-64"></div> <!-- Responsive sizes -->
    </section>

    <section class="mb-8">
        <h2 class="text-2xl mb-4">Knowledge Graph</h2>
        <div id="graphViz" class="bg-gray-800 p-4 rounded w-full h-96"></div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl mb-4">Actionable Insights</h2>
        <div id="insights" class="bg-gray-800 p-4 rounded"></div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl mb-4">NASA Resources</h2>
        <ul class="list-disc pl-6">
            <li><a href="https://www.nasa.gov/osdr/" target="_blank" class="text-blue-400">OSDR Datasets</a></li>
            <li><a href="https://public.ksc.nasa.gov/nslsl/" target="_blank" class="text-blue-400">NSLSL Library</a></li>
            <li><a href="https://taskbook.nasaprs.com/tbp/welcome.cfm" target="_blank" class="text-blue-400">Task Book</a></li>
        </ul>
    </section>

    <footer class="text-center mt-8">Â© 2025 xAI | Built with Tailwind & Firebase</footer>

    <script type="text/javascript" src="js/firebase.js"></script> <!-- Type fix -->
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/viz.js"></script>
</body>
</html>