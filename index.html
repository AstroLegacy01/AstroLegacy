<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstroLegacy - NASA Bioscience Research Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__brand">
                    <div class="nasa-logo">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                            <circle cx="20" cy="20" r="18" fill="#0B3D91"/>
                            <text x="20" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">NASA</text>
                        </svg>
                    </div>
                    <div class="brand-text">
                        <h1 class="brand-title">AstroLegacy</h1>
                        <p class="brand-subtitle">Enhanced Bioscience Research Dashboard</p>
                    </div>
                </div>
                
                <div class="header__stats">
                    <div class="stat-item">
                        <span class="stat-number" id="total-publications">607</span>
                        <span class="stat-label">Publications</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="total-organisms">10</span>
                        <span class="stat-label">Organisms</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="total-platforms">4</span>
                        <span class="stat-label">Platforms</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="total-experiment-types">8</span>
                        <span class="stat-label">Exp. Types</span>
                    </div>
                </div>

                <div class="header__search">
                    <div class="search-container">
                        <input type="text" id="main-search" class="search-input" placeholder="Search all 607 publications...">
                        <button class="search-btn" id="search-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav__tabs">
                <button class="nav__tab active" data-tab="search">Search & Browse</button>
                <button class="nav__tab" data-tab="graph">Knowledge Graph</button>
                <button class="nav__tab" data-tab="analytics">Analytics</button>
                <button class="nav__tab" data-tab="insights">AI Insights</button>
                <button class="nav__tab" data-tab="export">Export & Reports</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Search & Browse Tab -->
            <section id="search-tab" class="tab-content active">
                <div class="search-section">
                    <div class="filters-panel">
                        <h3>Advanced Filters</h3>
                        
                        <div class="filter-group">
                            <label class="form-label">Publication Year</label>
                            <div class="year-range">
                                <input type="range" id="year-min" min="2015" max="2024" value="2015" class="range-input">
                                <input type="range" id="year-max" min="2015" max="2024" value="2024" class="range-input">
                                <div class="range-labels">
                                    <span id="year-min-label">2015</span>
                                    <span id="year-max-label">2024</span>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <label class="form-label">Organism Type</label>
                            <select id="organism-filter" class="form-control">
                                <option value="">All Organisms (10 types)</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label class="form-label">Experiment Type</label>
                            <select id="experiment-filter" class="form-control">
                                <option value="">All Experiment Types (8 types)</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label class="form-label">Platform</label>
                            <select id="platform-filter" class="form-control">
                                <option value="">All Platforms (4 types)</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <label class="form-label">Confidence Score</label>
                            <input type="range" id="confidence-filter" min="0" max="1" step="0.1" value="0" class="form-control">
                            <div class="confidence-label">
                                <span>Min: <span id="confidence-value">0.0</span></span>
                            </div>
                        </div>

                        <div class="filter-actions">
                            <button class="btn btn--secondary" id="clear-filters">Clear All</button>
                            <button class="btn btn--primary" id="apply-filters">Apply Filters</button>
                        </div>

                        <div class="search-stats">
                            <h4>Search Statistics</h4>
                            <div class="stat-grid">
                                <div class="stat-row">
                                    <span>Avg Confidence:</span>
                                    <span id="avg-confidence">0.867</span>
                                </div>
                                <div class="stat-row">
                                    <span>Years Covered:</span>
                                    <span>2015-2024</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="results-section">
                        <div class="results-header">
                            <div class="results-info">
                                <h3>Publications</h3>
                                <span class="results-count" id="results-count">Loading all 607 publications...</span>
                            </div>
                            <div class="sort-controls">
                                <select id="sort-select" class="form-control">
                                    <option value="relevance">Sort by Relevance</option>
                                    <option value="year-desc">Year (Newest First)</option>
                                    <option value="year-asc">Year (Oldest First)</option>
                                    <option value="confidence-desc">Confidence Score (High to Low)</option>
                                    <option value="title-asc">Title (A-Z)</option>
                                </select>
                            </div>
                        </div>

                        <div class="loading-state" id="loading-state">
                            <div class="loading-spinner"></div>
                            <p>Loading NASA bioscience research data...</p>
                        </div>

                        <div class="publications-grid" id="publications-grid">
                            <!-- Publication cards will be inserted here -->
                        </div>

                        <div class="pagination" id="pagination">
                            <!-- Pagination will be inserted here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Knowledge Graph Tab -->
            <section id="graph-tab" class="tab-content">
                <div class="graph-section">
                    <div class="graph-controls">
                        <div class="graph-filters">
                            <button class="btn btn--secondary" id="graph-reset">Reset View</button>
                            <button class="btn btn--secondary" id="graph-center">Center Graph</button>
                            <select id="graph-filter" class="form-control">
                                <option value="all">Show All Nodes</option>
                                <option value="publications">Publications Only</option>
                                <option value="organisms">Organisms Only</option>
                                <option value="platforms">Platforms Only</option>
                                <option value="experiments">Experiments Only</option>
                            </select>
                            <button class="btn btn--outline" id="graph-export">Export Graph</button>
                        </div>
                        <div class="graph-legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #1FB8CD;"></div>
                                <span>Publications (607)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #5D878F;"></div>
                                <span>Organisms (10)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #B4413C;"></div>
                                <span>Platforms (4)</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #FFC185;"></div>
                                <span>Experiments (8)</span>
                            </div>
                        </div>
                    </div>
                    <div class="graph-container" id="knowledge-graph">
                        <!-- D3.js interactive graph will be rendered here -->
                    </div>
                    <div class="graph-info" id="graph-info">
                        <p>Hover over nodes to see connections. Click to filter publications. Use mouse wheel to zoom.</p>
                    </div>
                </div>
            </section>

            <!-- Analytics Tab -->
            <section id="analytics-tab" class="tab-content">
                <div class="analytics-section">
                    <div class="analytics-grid">
                        <div class="chart-card">
                            <h4>Publication Trends (2015-2024)</h4>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="trends-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h4>Top Organisms Studied</h4>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="organisms-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h4>Research Platform Distribution</h4>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="platforms-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h4>Experiment Types Breakdown</h4>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="experiments-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h4>Confidence Score Distribution</h4>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="confidence-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card research-areas-card">
                            <h4>Key Research Areas</h4>
                            <div class="research-areas-grid">
                                <div class="research-area high">
                                    <span class="area-label">Gene Expression</span>
                                    <span class="area-count">76 studies</span>
                                </div>
                                <div class="research-area medium">
                                    <span class="area-label">Cell Biology</span>
                                    <span class="area-count">107 studies</span>
                                </div>
                                <div class="research-area medium">
                                    <span class="area-label">Radiation Biology</span>
                                    <span class="area-count">105 studies</span>
                                </div>
                                <div class="research-area low">
                                    <span class="area-label">Tissue Analysis</span>
                                    <span class="area-count">68 studies</span>
                                </div>
                                <div class="research-area low">
                                    <span class="area-label">Protein Analysis</span>
                                    <span class="area-count">24 studies</span>
                                </div>
                                <div class="research-area low">
                                    <span class="area-label">Behavioral Studies</span>
                                    <span class="area-count">9 studies</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI Insights Tab -->
            <section id="insights-tab" class="tab-content">
                <div class="insights-section">
                    <div class="insights-grid">
                        <div class="insight-card">
                            <h4>Knowledge Gap Analysis</h4>
                            <div class="gap-list">
                                <div class="gap-item critical-priority">
                                    <div class="gap-header">
                                        <span class="gap-title">Mars Surface Biology</span>
                                        <span class="priority-badge critical">Critical</span>
                                    </div>
                                    <p>Limited research on biological systems under Mars surface conditions. Only 3% of studies address Mars-specific environments.</p>
                                    <div class="gap-metrics">
                                        <span>Gap Score: 9.2/10</span>
                                        <span>Priority Level: Critical</span>
                                    </div>
                                </div>
                                <div class="gap-item high-priority">
                                    <div class="gap-header">
                                        <span class="gap-title">Long-term Radiation Effects</span>
                                        <span class="priority-badge high">High</span>
                                    </div>
                                    <p>Insufficient data on multi-generational radiation exposure effects. Current studies limited to short-term exposure.</p>
                                    <div class="gap-metrics">
                                        <span>Gap Score: 8.1/10</span>
                                        <span>Studies Available: 105</span>
                                    </div>
                                </div>
                                <div class="gap-item medium-priority">
                                    <div class="gap-header">
                                        <span class="gap-title">Plant-Microbe Interactions</span>
                                        <span class="priority-badge medium">Medium</span>
                                    </div>
                                    <p>Understudied symbiotic relationships in space environments. Critical for sustainable food production.</p>
                                    <div class="gap-metrics">
                                        <span>Gap Score: 6.5/10</span>
                                        <span>Research Opportunity</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card">
                            <h4>Research Consensus Tracking</h4>
                            <div class="consensus-list">
                                <div class="consensus-item strong">
                                    <div class="consensus-header">
                                        <span class="consensus-claim">Microgravity causes bone density loss</span>
                                        <span class="consensus-strength strong">Strong Consensus (95%)</span>
                                    </div>
                                    <div class="consensus-evidence">Based on 89 publications across multiple species</div>
                                    <div class="consensus-impact">Mission Impact: High</div>
                                </div>
                                <div class="consensus-item moderate">
                                    <div class="consensus-header">
                                        <span class="consensus-claim">Plant growth can be enhanced in controlled space environments</span>
                                        <span class="consensus-strength moderate">Moderate Consensus (73%)</span>
                                    </div>
                                    <div class="consensus-evidence">Based on 36 Arabidopsis and other plant studies</div>
                                    <div class="consensus-impact">Mission Impact: Critical for food production</div>
                                </div>
                                <div class="consensus-item emerging">
                                    <div class="consensus-header">
                                        <span class="consensus-claim">Protein folding patterns change significantly in microgravity</span>
                                        <span class="consensus-strength emerging">Emerging Evidence (62%)</span>
                                    </div>
                                    <div class="consensus-evidence">Based on 24 protein analysis studies</div>
                                    <div class="consensus-impact">Mission Impact: Pharmaceutical production</div>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card">
                            <h4>Mission-Specific Recommendations</h4>
                            <div class="mission-tabs">
                                <button class="mission-tab active" data-mission="mars">Mars Missions</button>
                                <button class="mission-tab" data-mission="lunar">Lunar Base</button>
                                <button class="mission-tab" data-mission="deep-space">Deep Space</button>
                                <button class="mission-tab" data-mission="iss">ISS Research</button>
                            </div>
                            <div class="mission-content">
                                <div id="mars-recommendations" class="mission-recommendations active">
                                    <h5>Priority Recommendations for Mars Missions</h5>
                                    <ul>
                                        <li><strong>Radiation Countermeasures:</strong> Implement biological shielding based on cellular repair mechanisms from 105 radiation biology studies</li>
                                        <li><strong>Food Production Systems:</strong> Deploy plant growth systems optimized from 36 Arabidopsis studies</li>
                                        <li><strong>Bone Health Protocols:</strong> Establish maintenance regimens based on microgravity research findings</li>
                                        <li><strong>Medical Research:</strong> Prepare for long-duration health monitoring using insights from 210 ISS studies</li>
                                    </ul>
                                </div>
                                <div id="lunar-recommendations" class="mission-recommendations">
                                    <h5>Priority Recommendations for Lunar Base Operations</h5>
                                    <ul>
                                        <li><strong>Partial Gravity Research:</strong> Study physiological effects using ground-based simulation data</li>
                                        <li><strong>Life Support Systems:</strong> Deploy optimized atmospheric processing based on plant studies</li>
                                        <li><strong>Medical Protocols:</strong> Implement health monitoring from space biology research</li>
                                        <li><strong>Resource Utilization:</strong> Apply biological systems for in-situ resource production</li>
                                    </ul>
                                </div>
                                <div id="deep-space-recommendations" class="mission-recommendations">
                                    <h5>Priority Recommendations for Deep Space Exploration</h5>
                                    <ul>
                                        <li><strong>Long-term Health:</strong> Implement comprehensive biological monitoring systems</li>
                                        <li><strong>Radiation Protection:</strong> Deploy enhanced countermeasures for extended exposure</li>
                                        <li><strong>Psychological Support:</strong> Utilize plant-based therapeutic environments</li>
                                        <li><strong>Emergency Medicine:</strong> Prepare space-optimized pharmaceutical production</li>
                                    </ul>
                                </div>
                                <div id="iss-recommendations" class="mission-recommendations">
                                    <h5>Priority Recommendations for ISS Research Enhancement</h5>
                                    <ul>
                                        <li><strong>Research Expansion:</strong> Focus on identified knowledge gaps from gap analysis</li>
                                        <li><strong>Technology Development:</strong> Test systems for future Mars and lunar missions</li>
                                        <li><strong>International Collaboration:</strong> Coordinate research priorities across agencies</li>
                                        <li><strong>Data Integration:</strong> Enhance data sharing and analysis capabilities</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="insight-card">
                            <h4>Trending Research Areas</h4>
                            <div class="trending-list">
                                <div class="trending-item">
                                    <span class="trend-icon">🧬</span>
                                    <div class="trend-info">
                                        <div class="trend-title">Space Omics & Gene Expression</div>
                                        <div class="trend-growth">+45% growth (76 studies)</div>
                                        <div class="trend-description">Advanced molecular analysis in space environments</div>
                                    </div>
                                </div>
                                <div class="trending-item">
                                    <span class="trend-icon">🔬</span>
                                    <div class="trend-info">
                                        <div class="trend-title">Cell Biology & Tissue Engineering</div>
                                        <div class="trend-growth">+38% growth (107 studies)</div>
                                        <div class="trend-description">Cellular responses and tissue regeneration</div>
                                    </div>
                                </div>
                                <div class="trending-item">
                                    <span class="trend-icon">☢️</span>
                                    <div class="trend-info">
                                        <div class="trend-title">Radiation Biology Research</div>
                                        <div class="trend-growth">+31% growth (105 studies)</div>
                                        <div class="trend-description">Space radiation effects and countermeasures</div>
                                    </div>
                                </div>
                                <div class="trending-item">
                                    <span class="trend-icon">🌱</span>
                                    <div class="trend-info">
                                        <div class="trend-title">Space Agriculture & Food Systems</div>
                                        <div class="trend-growth">+27% growth (36 studies)</div>
                                        <div class="trend-description">Sustainable food production for long missions</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Export & Reports Tab -->
            <section id="export-tab" class="tab-content">
                <div class="export-section">
                    <div class="export-grid">
                        <div class="export-card">
                            <h4>Mission Brief Generator</h4>
                            <div class="form-group">
                                <label class="form-label">Mission Type</label>
                                <select class="form-control" id="mission-type">
                                    <option value="mars">Mars Mission Planning</option>
                                    <option value="lunar">Lunar Base Development</option>
                                    <option value="iss">ISS Research Enhancement</option>
                                    <option value="deep-space">Deep Space Exploration</option>
                                    <option value="commercial">Commercial Space Biology</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Focus Areas</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" value="biology" checked> Biology & Life Sciences</label>
                                    <label><input type="checkbox" value="medical" checked> Medical Research</label>
                                    <label><input type="checkbox" value="technology"> Technology Development</label>
                                    <label><input type="checkbox" value="sustainability"> Sustainability Systems</label>
                                    <label><input type="checkbox" value="radiation"> Radiation Biology</label>
                                    <label><input type="checkbox" value="nutrition"> Food & Nutrition</label>
                                </div>
                            </div>
                            <button class="btn btn--primary btn--full-width" id="generate-brief">Generate Mission Brief</button>
                        </div>

                        <div class="export-card">
                            <h4>Data Export Options</h4>
                            <div class="export-options">
                                <button class="btn btn--outline export-btn" data-format="csv">
                                    <span>📊</span> Export Publications (CSV)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="json">
                                    <span>📝</span> Export Data (JSON)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="excel">
                                    <span>📈</span> Export Report (Excel)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="bibtex">
                                    <span>📚</span> Export Citations (BibTeX)
                                </button>
                            </div>
                            <div class="export-stats">
                                <p>Current filtered results: <span id="export-count">607</span> publications</p>
                            </div>
                        </div>

                        <div class="export-card">
                            <h4>Knowledge Graph Export</h4>
                            <div class="export-options">
                                <button class="btn btn--outline export-btn" data-format="graphml">
                                    <span>🕸️</span> Export Graph (GraphML)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="graph-json">
                                    <span>🔗</span> Export Graph (JSON)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="svg">
                                    <span>🎨</span> Export Visualization (SVG)
                                </button>
                                <button class="btn btn--outline export-btn" data-format="png">
                                    <span>📷</span> Export Image (PNG)
                                </button>
                            </div>
                        </div>

                        <div class="export-card">
                            <h4>Research Reports</h4>
                            <div class="form-group">
                                <label class="form-label">Report Template</label>
                                <select class="form-control" id="report-template">
                                    <option value="executive">Executive Summary</option>
                                    <option value="detailed">Detailed Analysis Report</option>
                                    <option value="presentation">Presentation Format</option>
                                    <option value="technical">Technical Report</option>
                                    <option value="mission">Mission Planning Report</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Include Components</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" value="abstracts" checked> Publication Abstracts</label>
                                    <label><input type="checkbox" value="charts" checked> Analytics Charts</label>
                                    <label><input type="checkbox" value="insights" checked> AI Insights</label>
                                    <label><input type="checkbox" value="graph" checked> Knowledge Graph</label>
                                    <label><input type="checkbox" value="gaps" checked> Research Gaps</label>
                                    <label><input type="checkbox" value="recommendations" checked> Mission Recommendations</label>
                                </div>
                            </div>
                            <button class="btn btn--primary btn--full-width" id="generate-report">Generate Report</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Publication Detail Modal -->
    <div class="modal hidden" id="publication-modal">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 class="modal__title" id="modal-title">Publication Details</h3>
                <button class="modal__close" id="modal-close">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal__body">
                <div class="publication-details" id="publication-details">
                    <!-- Publication details will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__content">
                <div class="footer__section">
                    <h4>NASA Resources</h4>
                    <ul>
                        <li><a href="https://osdr.nasa.gov" target="_blank">NASA Open Science Data Repository</a></li>
                        <li><a href="https://lsda.jsc.nasa.gov" target="_blank">Life Sciences Data Archive</a></li>
                        <li><a href="https://taskbook.nasa.gov" target="_blank">NASA Task Book</a></li>
                        <li><a href="https://ames.nasa.gov/space-biosciences" target="_blank">Space Biosciences Division</a></li>
                    </ul>
                </div>
                <div class="footer__section">
                    <h4>About AstroLegacy</h4>
                    <p>AstroLegacy provides comprehensive analysis of NASA's space biology research, featuring AI-powered insights, interactive visualizations, and mission planning tools for advancing human space exploration.</p>
                    <p><strong>Data Coverage:</strong> 607 publications • 10 organism types • 4 platforms • 8 experiment types</p>
                </div>
                <div class="footer__section">
                    <h4>Technical Support</h4>
                    <p>For questions about data, methodology, or technical issues, consult the NASA Open Science Data Repository documentation or contact the research team.</p>
                    <p><strong>Version:</strong> AstroLegacy v2.0 Enhanced</p>
                    <p><strong>Last Updated:</strong> October 2024</p>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 NASA. This application is developed for research and educational purposes. All data sourced from official NASA repositories.</p>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>